[Схема](https://viewer.diagrams.net/?tags=%7B%7D&lightbox=1&highlight=0000ff&edit=_blank&layers=1&nav=1&title=%D0%94%D0%B8%D0%B0%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%20%D0%B1%D0%B5%D0%B7%20%D0%BD%D0%B0%D0%B7%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.drawio#R%3Cmxfile%3E%3Cdiagram%20id%3D%2251zmUan4mFf6pz3q3UUt%22%20name%3D%22InsureTech%22%3E7V1bd6LKEv41Weuch8yCBrw8opAJmaAx6mTMy1lECcEbjpeo%2FPpT1d1gA2rUmExmb2b2ZMemr9VV31fdXbQXSnW0%2Bj51Ji920HOHF0TqrS4U44IQIstF%2BB%2BmrHmKokksxZv6PZYmbxKafujyxCjbwu%2B5s0TGeRAM5%2F4kmdgNxmO3O0%2BkOdNpsExmew6GyVYnjudmEppdZ5hNffB78xeWWiLFTfq163svUctyocyejJwoMx%2FJ7MXpBUshSTEvlOo0CObst9Gq6g5RepFcWLmrHU%2Fjjk3d8XxLgeCpj%2FKAHEOn677AuN1pSmRqzRnxYVrj2WLqttzuCzy4mwa9KEtrPeFZmuvZ3B01u8HErQSLcc%2BZrqNM%2BmQy9LvO3A%2FGLO%2BFIV2U6c9K6cKQL0oS%2FUnoT4WmS%2FRnhaZU6e9GlA4pV1Av%2FVgVEktRhUJm2oOh8wR6x1omhSGIo%2FIcjHHws%2Fmaz2Th9yKIHlzOqJ7pkEEuTFabh%2FCbx%2F9Pa3lKJ%2FT81621zt3V%2FNIZ%2Bt6YVTt0n%2BfbqtW40IkW1QgTRitNtgOpmbYhjY3qrF3SWK%2FEKYTOacau%2FhFBBxeP0u%2FFVf3StkzLlGWrrvWNSznW7VhnN50jU1QdF8vLfDK4zcv4efniz93mBBQWUpYAKZD2Mh8NefaeM3uJyzrTLi8KqgJV%2BcNhNRgGU0gYB2NIr8zm02DgRokXRCnQP7xdIZ39gXSqSBWnO%2FBoP1P1cWEaVJJK5dWdzkFkQ50nPwXzeTCKawmmYHHpHsHQ%2FLHXCmBghrRJwCFJfIB3znzuTrHCEohOhdSRO3fMnj%2FnA58Gc2fuPFGJYqGJO%2FUhi4vtTMHmnbE3dO82iZVxcMsNRIp6d%2Bf0eqxdiQ5sGCz1CC0xhcOp0Iq7mjjjHv8AzSymM%2F%2FVvXeZKbEs0EdeAvs5CfwxdMB8BYCK6nWeZsFwMXf1ePLinBScNFRI6RuaR1Wi%2F1ATqzRxW1oxmyjjp6iGZOK2tKK2rUp5S9vpNLIlcWuVW9qWUp2E%2FyLjEhGdIzVqmrsSkrh5fXcDmGPEYYk%2FVSN65XwrK%2FzzckNesizxxBeBucoR4zqcJby48g2pwC%2FcqKOPnGYOppwNn3SDqXvZe4oeVMEkHX%2FsMpMkm49RQeCmMViTx0d2F8zm3tRtNm6jHIY76079SYqFZPpTjfiE0RFNrFzRn2aGiIoCTWkCcclJalKFgiwRftEiuospzojqiX8vJYsQgeLETqpC90iUWRb6IwkFtURmTKnwdN5bXchQFYYvJTsGP8uooiSqPN3JuKoCHxfPWUywN%2B9G3KKe7EZFaC6WTNyKOGSR6k%2BQgNjDK6GIGc1gPNG6UG3l89wKjZtEwiE4ivqTPC7YjUa7UnBGyKLjp9kkbnBjSnupnnd2uq%2FZY%2BUi75MLr6UbM%2FMmo2IW8O8On0o0%2FYQkt0ntaI%2BG7PVowK%2BnkNZdD31wbaboR3BS1L6V4Y8GqyC5VFTLmqq97eM8MQfp9ilK2HhMMXvv9FBEJwhkRhSdGOWUn0Wy%2Fs8z%2FSN4OF13zFyHjAslmUVDN7JOSYbCz0%2FM56bbKfougodzDvotJ%2Bm3UMzSL1G3sK9MPoV9Nws%2Byr7OZJLl5TeZ90cwB01nJNGcTMGNrOAidi8LVwXUNZK0G%2FMdyTzdCt0loaCZYKI0kXEABK2lzvWFSbAOPSYWM8M5coa9C8LvkS%2BQ4H%2BRo4xttGMm85sZElMENjYy1P0ezj%2BQ8YQK35SWOAhxhR65QVvkZGzrZiyhw8cXew%2BlD5zUkjANu8bKelcQVNfMTLaemdpo0FvU5YTJjoURz9wneizZLYx3eCyR%2B0N7kfsnJ%2FgnyhE7Lm94H%2BkNmdPdjYPci80eDjXmg72NNHXnGwhn20BIeTDqlg2EP%2BnBbPyUxJb1g3vyRsKN8%2Bo0qXUyl%2BbedbpveDNEgHL58l0eCpHEceSrzhzVI1RXD1p1jlYenrx966rflu5TBbdwcdeZTwf54PVmBrBluaRXjT3UsLuE8ISk0P%2Fk5Wu%2BSD0A4uXCoRBf%2BGSIv3eH9ERq9uJPdsF3q3q3F6x10fGXM0sEYVvxoGVdNVqB7IDq9x4QHlcLV%2FQDIX8nXm1D%2Fi1w%2B%2B5eaacwwdHAWdgLnO64R0%2B64NPTMOgOWi%2F%2BeLcPLGXRRpXwbwxYUVQAloS6r%2FxhVE8G6koE%2F2K%2B4RPtQHSCmEUqqCnqgkqrcqZzMaG%2FGE2afFDgREcpPEchA%2BNuz3Oj%2FMF0%2FhJ4wdgZmpvU3cAyCxbTrvvW8oNI0EXPnb%2B1jUok7MpemNoGQ1OKBK%2FJoIxtMMSru0Ok30BeQUrty0kpJGOD5KXEqItURSX1jYqYFDIVUVSMx3j23TwKdLKwISELEKdFwMVONuKtIUk4dEptv4mnWPFpTCYgJHieL0FfcBuQxobsx%2BGP7l58ZiVu4YhNKJkTNinapKFbOPiznHLO33HiFNcsCxtkStQTRiJS1HlJyCnuXZUujtvK%2B%2FTDqw%2FZCvpLFgdd%2BuePLA6K59vyOWqLp1QtqeUtETSnb%2FEUlUKRkmK%2BxfNZWzxJCtNk7Uvt8OSslrNazmr%2FSlYr5ayWs9qJrJYKfNTIv4LVZBrg%2BGVZbVf3clbLWe1fw2rlnNVyVjuR1QopVlO%2BFqsdd1RzbzZbe3mn%2FGaMmbTrFP3I2Kk4Kj0%2FxvmqxziytBc383Occ5%2FjlA88x1EOPMfhEHYJuCgV9%2BDWO892Uo6%2FGm1nHXu0kz4W18qpinYc7YAWOmshGye%2Fnf1Vitvb2dWvTP7ke77wC%2BtBqnTUneD5eeZ%2B4bOoY312%2BdR3mj5tSfRpI4pXUeKCQ4sWHDGFir2NFjGbVc7VnhWVfmdFTWRfdpO2vUDHVlHFbUQtFhRjpN98KVzOxEgf%2BMZcNdmcIQwk%2B5peWahZfMU86li8YD00HH6PBN6jIYfH9Cc2A%2FIl5j95iSkf89J9vsbM15iigyYXSMrDiDyzL7LKzH2L3LfIfYvct8h9iz%2FiW5Dct8h9i5N9CyXlW2i5b%2FGZvkX5XPxNcs7OOTvn7L%2BEs8%2F4SvincfbW1wNzyv58yk4HCB%2F8fuBnU7Y%2Fnl1OpkFv0Z1fOp43dT1nDoqTocyPuNKGuwoicYgXnsp7ifKQsCeG%2FwUhf0kgCym6a%2BRY7pCEdxiP8kbk6HqXarozROyqlqRsWbgc5WT34IRLWcQBXr1XXKdcp4MFv%2FGS73XCYj0jUVfESkTpVCKvcZ%2Bvlrz76W%2F2BPI7Y072EPa%2FJZtfGpO7DEe4DFIqTu3r3hpzeJyahO2DO1DX7%2BIP9Jb7t26cPYrmJOGmuHfQnHAhWprxTiGu5Or2zRV2XCqPpvuy0XT73xjNo%2BnOHU3HCPaAcDqZ13hMPJ2sKrvx9Z3xdKVUvJlSTkH0oQF1siy%2FUdOOiLpDgtiOjbqT1TRFlaX9vU8X0Ep74u4%2BOKYOF7rdYDS5BCnMh%2B7IHceL0y%2B8yhVXN4pwCKxlVj3xemf%2FOpBlKwqcUxKoUSRLcaVHr3Mvi81l71T%2FCsvpfDH2r12MnfEVoXwxli%2FGUncUfdlLyOly6a1vhMjw3B1UiWa4bw12UKV%2FM9j%2BJaD6B8%2FAyP4zsD2QGX%2FNlLQDblOoKZWUq6K2Ff0KiqxV9%2BDplms8J1S9yTawPfU6yy8Beh91naWWWmVclrbA3bZvPJJLf3zvab8C778BNl%2Byn3vJTg69yVA9cMX%2BETcZpr%2Fg69SLDNOXwP7Beww3FrJlnZt%2FRZi0905aMRYo%2Br6LE0OSzvt9FKkd5NT9Gqmy8YJYLPthy%2F3ESn3%2Fd5GJEvvcNXp%2BQfsXX7WT%2FddV7flesNI3TSqXZK1UKhO1IBffXtXn3wr2F1%2B4nlmRx9%2B1%2BUVW5PmN6%2Fnh4ruQcP%2F%2BZb5SOfvh4qF3dZDSn1uqFFNxpKVTL11PV1ROo%2BKfWax8WiiJuGDQkogZh5VIB4Cp6FtvPbA7u8OdQ%2FZXhWyF5JB9AmTDpE3Xv6Ls%2BKGDH74Vy1qUYKzEx8Za%2FHTnTn0YA93B2Otcno8BTgkvIVJxt3%2F6TlaQ5XRcxam0ICvpO1%2B%2FUnxJUTkyvqSgJO6B%2BtT4EoFsKgK%2BkwjZpegr7NJR5sKmzp4YkTRzHvkKY%2FaSdPGFvJLQGSn5ZavnHUU1ylnM5NQ4caZDQERGlKM7bCvJDp8QJZN5K2DL1qO5WxrJRdih23v8ysT4nQZVGLkhbI2KF%2BbGQxKrU4W9PhJ119jWrWJykCf0O%2Bv4HP3ubX5K%2FE8%2BJVbO%2BB5EfrvB8dt3f3WoTWpdqkTr0r9yW%2B%2B61dq%2Fr1fOvkYgvruY4gMp83rDHkaS%2Ba0KqdcYiidhviR8T3y%2BAP2yC9D8hYSv%2BTWNSuG4BaP0TZYU9cPWi0oqvKcgaactF7XUd0BqymGrxffe7xut8w6931fZ957BH7vfN%2BcSIv1n6vb8KYjqvzmxfGFi2X8snxPLuYlF%2FTuJJc0HajHFB4cSC0mF0h36mtvxW4zJdojyFYlis6nYHfoYv%2BePn4Msi3ytl9Vk4R3t1FlWfLD2ZrRYvIeoC42mDtz2nMv97XtN%2BetfBzBWd%2FCz3XoO7J%2F%2Faz6O7er%2FHi9rw8szXt6dv%2F31L9%2BSKqeWS%2FK2tyG%2BxJ5UHuv9rljvQ4KXo2UMg2ZkSFp5meYvm8KRlrj4qggjFW%2FQNKL8UvI7H1PSi8%2B5yEbIm6Hh0%2FgI6YQLT0RJiaKMQt%2B3HDZJyTAWafeExR346Gs84993fwNZHlL%2BL%2FQE9gfl7IkoL3yTi0TSCrJS0MqkKGtvuwp5SPnfHFKeXnR%2BXZ7PQ8rzXbzjkXD%2Fy9v5Jt47NvF2r0GTm3i7GerwPbxL6ZuskvKHbeLJ0rmCzDM1HRpl%2Fpccybz95bsn3Ft4JSwAzGMWPKz45oTmPBf9xhceHvhm596Nt5wE%2FjgJaDkJfBQJHHqSs48svsJLRXEU9bF4H8N7dJpydPB4RHGpMbw%2FlryU7hrZH0HwRv53RpLHpheZ6os6ee7%2Fr3BFnmS903pwZz8sPxLCqzNcuBGOku3LV3%2FkoN5UIpu5Rey9C2Y%2B56OnYD4PRkIGnS8W5wEuYWlxfTahHaQm4UQfnv0V2kmFt2D0nLkDQMY%2BkqvZq3dBKiuAB1K9u66Rx3VFfXpYLbqh5DvX91LXCF5vlZ7SW2uKvdZeu6Puq93Xl3a1HPZGXd%2B67k0er%2B%2BDu6YV2r7lOd9%2FTh7JixR97o2Gw5508%2Boakm9X9aVl2Gv6z6%2BMnIfV7K55s3gi2tDqqyNLeXmph6tl59d9YH1vlK2BBPlN0gh1r7ZWV7W%2BLdWqunLbN4kdNiTL0D271fFs017Xqqpqhx1C00JLzA%2F90Fe1gY3%2FF%2FJZ0m3fC2v9Ds1P6wlvjFS5ZSJfFeoZBr71%2FXHy9H1Ztnxbtvve%2Bn7Q8W%2FDdP9pnnl3%2FHP22JL8x1%2BPw6dRefBYtbwOWU26VXnde1gNYfzD3ugnyOB%2BADIZwOea3bIX9dZAg7bDRmiGt%2F2BVm%2Fqa9uHvuFYqiq0C33um4ua0YC%2Btxd2v7OC%2FCuQjVST7FWtqa5rLRgZTdO1epyvodXWUFdTXdaMAcyFKd%2F2LRnz%2Feyb6m2%2FI0GbPA0%2Fo5zxs72uGx7U4WEdKktrkHqrwdJaulw3abvEbkIf16oGcpRZPm%2FJ09Q6yBPn9BZ1KErDcr66tg0d64X59VQb5d3qLOxwwMbM6tNY2XZotwZRu8Ru0%2FKkFloh67MlsfF2FrWwvYrGYRtWKq0j%2FexbKxgv1NmVbcOmMrWNhmavdaxTqRltZSPDNi9vKwlZU53p8jR7xWTSXdRalmw3qaxBXzshG1tXqoVdaMfCdkKblddqoY5ztYZ%2BQj%2B4TA3o85rOuwb516z8QK6FJpS3QTZdpd6m5dVaf6CivqCu2mGbtd%2B3SI3p%2FBr0hLDyFpuzfgP611iCXeA4NbtlrRK6juM0OmvUOyiv1am825FeyiAzzKvV8DnMo73meaBemBOQhaC38qRWo8899rltK%2FSZgXWZGtYD41RpfS2WZhkDbEtl7Q4NqBP1bs2emUuQkwJ6vKqjHoNd2lUVxgXz1xpA%2Bze23TIXMF9c5h7qNMzNAORkcdkMQtQ%2FalOg7yxfZwn6Bs9hbsKOhvVCv%2BV6y8TyMDdt0DGbz21XrbPyCtTJ2%2BlItC9Unjxf2OU2DHpqdGlaHeRTr1KZrcAGuc7qMHacN5jXVltDna%2FDvNVb7TUrb5I613koIzP5mksYJ0vrD5YoD2y71md2WjfuuRyoboHMTKpvoI8aIMOKpTWWTF9MJu8qzA%2BV5QDncEXniaXh%2FEZyBH1l%2BGPD74ivtM7%2BgGFSi%2FYP8nUZ7vSxDx0J7RxtAWxFY7puhqBjtO2a0VW5rocwH7xtS7K5rYBsVN73pW0MVqw82FKTzr0CYyAszYP5wPHoiI1hZD81w0Y7Rxkwm1zTelSqZwboUstiNmXoOF7QybYMadwmB9CPmlFHTO1bGq9TrYUd6CfIGfSayhD7GYL9Ul3uyjAmXr4t142eUae4rfO%2B2wrIxYM0sFcdx0Hx3abYhLiG9mFGspNh7KgjMC8mYTjTpvoC5ZeImxzT1ziHltGldsrs8cqKbe%2FnpIb2wW0Y5aHFNgpzXkOd7YOdGR7XF5vJD%2FSQjQ%2BftcMWtVngPp%2FbX79nULsD2VCbrKL%2BdwmzbdRbpo%2BgM4Tb7AplzvS%2BDZK9YeWhX1zvIY3qAJS3kDM41nfWaF9QXmKcjRgJMwMYCGmAi23OH2AL1NYG0GYnxDYRIzkGaxRD%2B9wWjcYayuMY0RaVCC%2FqWB7HCxKoMxxA%2FY5shmAayh7GblM7oLgBYwB7boQ4Px3CuBnTdMVm8wNz1uDcM1ChfcYDwGs2xzIYE8wL1RnA7DYv3470QwFZylyuKH%2BqxzXD4rK2lzXwhSANuLrD0xqgxwOq24gbiHl1tMGWpzC%2BAN0KO7QdwGOVygJl1UK%2BYZjBbBh9ElOhbVZB%2FsaAsPIDYlM%2B0SmmAh8iX4BOUnuE8gOlFnq8vKcy3bUIxRSUKbVBqs9SDWyE5jOQk6i8wA8wJd5Pjc4p5U3gPWbDMtdVkBfoXv%2FFYLxorbi%2FJAOWcl7UoS1uozCP%2FLmK%2BMVxY4U2zrCmo9FxIo6HDY4rlkrxGZ6jjUXzSXW7j%2BV0lB%2FtK9cxhpto01wXmW1aq2b0nNqjye3RlCNsRV6pUUxD%2FEDe0XGcUEcDcVKJeatl4nPgYQt6fm9Q3uq3V%2FWYj6kNIdZojBtt5KMVxWuQDfDjivFIG8bGyuNzloZlupQLoX%2FUB0O9AkyU2HNs0474inMU4Cj6JpgGdXO%2FQBgHxyTqH9UsHA%2F4OIT5EuDTG4x7oV6ZjatBqO5QGVl03DWKLdSXQZ0hdv%2FRoH5t2FmhDdmILWBDzO8crJkvpVMZc59OYuO6MtD%2BkWuZPzHg40XOBrxv0roQ77m9WoTyG3JVCLoGXFanc2SqbGzmhndbA8LnCDDHjNJUJjfwLaUlxUjWHsxJi%2BMfnWP8rCsRdtaYnyBHOoT%2BO5%2BzJdoaxWYqz6ictRR0aC1wN%2Ff%2F24hPLA%2FF1fYC%2FZ8aywd23%2BD%2BuSlHGFgzPIXWh7IzHqmuAxavuDyhjC2x%2FnZXkd9NbYTxA%2BgM4ksP5ht1DHGoozGfPvJXdO7Xg09F9RRt0JMp7kKb0Kc1878sbksdxH2NyVjHNYeMHIrzgPPejPwWal%2FQ%2F1AnTGbgq0pL6GdHYXbPfULJxrQV9z3X6BOArStMZpaH3EL9AmxvgDwcl19Trjb0JcuLPIBrLjEN5YecsEmrMx8I1z9CXZQnADdNsT2NrpMMHTgBuQz9pYbHdGeAfrdGdRzwm%2FKwYSvcF16BHsu0zhZwQqvG%2FGfAlxr1bSzweXEdTv1oFX0wKI91M70HXwD0hDA5wDo4%2FGkwOQKn0TY7BLmelfeQEzTKma1GyG0p5H7ZEn0o5ndxf4b68W2Z%2B4zAdxRvGKeiD8Zslad11BbDvzW3R8VGjkCcAx%2BT14H%2Bgcxs0GI%2BKH1uanXmi4NPRPuKOEhwvZZMg3k3bC9RJ%2Fp2LZPXydtGf5H6OeiPAaeumf%2B%2B8ZM7MLfcfwdOpPOAMmVr4JDx0z0tD%2F8Ujo3Qj47E5ajarQhPB9SPon4t9Y8RTy3lYSCtcQ%2FCpv4KfS4Bl3GeZbZRb1J7Yv5glWK8yubRw%2FU5xQJmb4gl5jLy47lNxvqGnLfRySvOi%2FaS6U%2BcB20qBJ7Bdte47uM%2BCbXZRLvAA3W61kEeBFlRbGlw%2B6BtU98Ox8Zlx20a29jgArd7oQ2co8aK%2BpDUf49wIWqP%2BlIh4wH0b1HHkK%2FjMa%2B4jxvh0DpuD7GP45Ad49BG1on%2BJPuM%2B1arB9%2FyHkfD2ZMh%2BT3yMul9bwv7RMvXrvI4vvNwI1DZRDpm4h22bFvvPFosETW5E1wsZI4ZFZINgIjSjoh%2FOGwLNLvj%2BTrrgeLA71oqZIZH0XhTp4cx8qnk5HFDlDhxuv7Ya%2BEeKL7MF6dU%2BHZpIvEWD6WSSfdcBDQtGUVjvBnvkzyDEI5YtgUZnWNy0y9nbPsOWlnNzu4Jd3ofNrvK7tktHDe7fBt8NnfHXX%2F4n9efd%2FdmYHnm3dK5Hl81RvOb8W%2FoYtkzJw83K2MwKboXpGIE5thwp%2FqjohaKd49OubO6ri203%2FJ1FbCyYNRfK%2B7V9OW6F6wb90CIFadiv7gDXbpd%2FVpW5035R2%2BtPd4%2FTgJ1USD3s%2B%2By1JvdS7eL4qR579zV7OsKeVh2B%2B3lw13%2Fx4923fDLpfn1w41eNyv2s2nqxDEKhh6ET%2FeNsHPftX97am24Voc%2F1s7w9rdbCh8t6Ge5dyN11u3H74N2kTzdDNXg5ZfqhN7E10mxPA8e75e134v5zbPXfIbs8uDZD6bru%2F7cXNVLxs%2FOjx%2BPeEPaCv79vGtov9vgZZTvdB0k9t9tR3EaAAG7Sv8fZiC7MWbvQZtc3BL0lT4kO5tVqFuOffYfMafDNA%2BI0txfCSHftBLUwlOfnZE%2FBNTQ9alPz2N5jKeOMYX0D%2B0cvsZJj5v04RzjD4fufO5OL7kqQLJEqxz6Y%2FcykqROY%2BcQywPMNsdW5GzvfzjPA2d3TOsRsaIi2KTOwkZ%2Br0dPezORlAFkfR7SU2muFpUYqYrvQqrxY%2BXWCHTPMO%2FvpFBpWuu%2Bu5Sa7XuvCV2s3C7KA%2Fsx%2BHX7sqyV65AwXwz04bQ2ufHkZmhcq40HGCTkrnW8x9YAHLf2YHnT9r7%2FGuO5XMH4JYe3z6NgPer9CuTi6kULR%2Fc3hYZKKg%2FV5y4Jbp57Ooiz0gExVfS7cvWpWL9RrqFScvNdvq59D%2BHXkjoYtl7ufla7WxGDD%2B3vMu%2FoXPdADowu%2FTy7tcvK26e8QlRGd%2BjMZn43KbCkJLcGEpwFB7UtMKidKegsfXPbqS%2BOFraf27%2F%2FXtMDpzOL3s3FE0YWPbnZeYU5umVRUuJ0ZuBnJ1Dtf%2Bdr76KgG4zHgNe88EUspzfVRFa268kmOlGKrt2LA6nfpyLviQE8cNYOCLU4zgg3l1p%2Bk%2BSLxL2WUiFOOP5ey71mvSXgdLff%2FacsvZBahihpCz3461ZSr%2BWp2mGmfmzoULrDqrQ%2FdKhI9uY%2FNnToQA0mGQ2%2BWzwN%2FdnLPwR13rrXoEQK5bPoJ4hSTszfpZbi%2Fg%2FEIe0DcahYVpNApGjFPwxE6vZJ%2FSSXI%2F0VEuqp38pcLp%2BGRGdTm8I%2F3Pi17XoSGz8pqaXz6ERqI%2FMDTb24dW72hyEnbXuT5zagOzQ4k31YdK95qLOzmAfJeU64JSQNB%2BRj4eCU69SOgY2D5%2F59C7ZSxtj%2BaR5%2Bcbt8hdvMFbVwFntLHjdcnoFo4eMUL7URsuO3QthBDyfB%2FD8%3D%3C%2Fdiagram%3E%3C%2Fmxfile%3E)

### Проблемы и риски в текущей архитектуре

1. **Увеличение задержки при синхронных вызовах API**:
    - И `core-app`, и `ins-comp-settlement` полагаются на синхронные вызовы REST API к `ins-product-aggregator`. Это создает узкие места из-за задержек или сбоев в запросах к страховым компаниям.

2. **Проблемы масштабирования с REST API**:
    - `ins-product-aggregator` запрашивает все страховые компании при каждом обращении к нему. При увеличении числа компаний с 5 до 10 время отклика будет увеличиваться.

3. **Избыточная репликация данных**:
    - И `core-app`, и `ins-comp-settlement` поддерживают отдельные локальные копии данных о продуктах и тарифах. Такое дублирование повышает сложность и создает риск несогласованности.

4. **Сервисные зависимости**:
    - `ins-comp-settlement` зависит от `core-app` для ежедневных агрегированных данных, добавляя еще одну синхронную API-зависимость.

5. **Обработка ошибок**:
    - Сбои в вызовах REST API (например, проблемы с сетью или таймаут) могут все сломать.

6. **Ограниченная масштабируемость**:
    - Синхронная архитектура на базе REST ограничивает горизонтальное масштабирование сервисов из-за тесной связи.

### Риски роста

1. **Увеличение времени отклика**:
    - Добавление еще 5 страховых компаний увеличит время отклика для `ins-product-aggregator`, что повлияет на `core-app` и `ins-comp-settlement`.

2. **Увеличение числа отказов**:
    - Большее количество внешних зависимостей (10 страховых компаний) означает более высокую вероятность сбоев.

3. **Неэффективные обновления данных**:
    - Частые периодические обновления (например, каждые 15 минут со стороны `core-app`) создадут ненужную нагрузку на `ins-product-aggregator`.

4. **Управление асинхронными повторными попытками и обработка отказов для растущего числа вызовов REST API станет сложнее.**:

### Решения

1. **Event-Driven Architecture**:
    - Заменить синхронные вызовы REST API на асинхронное взаимодействие (Kafka).
    - Заменить вызовы REST API `ins-comp-settlement` к `core-app` подписками на события для ежедневных страховых данных.

2. **Обеспечить согласованность данных между сервисами, используя паттерн Transactional Outbox для надежной передачи событий.**: